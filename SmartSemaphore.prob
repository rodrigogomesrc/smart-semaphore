parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('SmartSemaphore',['C:\\Users\\rodri\\Documents\\BES\\M\351\todos Formais 2\\smart-semaphore\\SmartSemaphore.mch']).
machine(abstract_machine(p5(1,6,1,120,4),machine(p3(6,1,8)),machine_header(p3(7,5,19),'SmartSemaphore',[]),[sets(p5(1,9,1,13,32),[enumerated_set(p3(10,6,36),'SEMAPHORE',[identifier(p3(10,19,23),'LEFT'),identifier(p3(10,24,29),'RIGHT'),identifier(p3(10,30,35),'AHEAD')]),enumerated_set(p3(11,6,32),'COLOR',[identifier(p3(11,15,20),'GREEN'),identifier(p3(11,21,27),'YELLOW'),identifier(p3(11,28,31),'RED')]),enumerated_set(p3(12,6,44),'DIRECTION',[identifier(p3(12,19,24),'NORTH'),identifier(p3(12,26,31),'SOUTH'),identifier(p3(12,33,37),'EAST'),identifier(p3(12,39,43),'WEST')]),enumerated_set(p3(13,6,32),'STATE',[identifier(p3(13,15,17),'NS'),identifier(p3(13,19,21),'LO'),identifier(p3(13,23,26),'DNS'),identifier(p3(13,28,31),'DLO')])]),constants(p5(1,15,1,18,13),[identifier(p3(17,5,13),min_time),identifier(p3(18,5,13),max_time)]),properties(p5(1,20,1,22,36),conjunct(p3(22,6,36),[member(p3(22,6,19),identifier(p3(22,6,14),min_time),nat1_set(p3(22,15,19))),member(p3(22,23,36),identifier(p3(22,23,31),max_time),nat1_set(p3(22,32,36)))])),variables(p5(1,24,1,33,18),[identifier(p3(25,5,16),semaphoreNS),identifier(p3(26,5,16),semaphoreOL),identifier(p3(27,5,16),semaphoreLO),identifier(p3(28,5,16),semaphoreSN),identifier(p3(29,5,9),cars),identifier(p3(30,5,9),time),identifier(p3(31,5,13),sequence),identifier(p3(32,5,17),has_priority),identifier(p3(33,5,18),current_state)]),invariant(p5(1,35,1,63,80),implication(p5(1,38,6,63,80),implication(p5(1,38,6,54,36),implication(p5(1,38,6,53,36),implication(p5(1,38,6,52,36),conjunct(p5(1,38,6,51,36),[member(p3(38,6,39),identifier(p3(38,6,17),semaphoreNS),total_function(p3(38,20,39),identifier(p3(38,20,29),'SEMAPHORE'),identifier(p3(38,34,39),'COLOR'))),member(p3(39,6,39),identifier(p3(39,6,17),semaphoreSN),total_function(p3(39,20,39),identifier(p3(39,20,29),'SEMAPHORE'),identifier(p3(39,34,39),'COLOR'))),member(p3(40,6,39),identifier(p3(40,6,17),semaphoreLO),total_function(p3(40,20,39),identifier(p3(40,20,29),'SEMAPHORE'),identifier(p3(40,34,39),'COLOR'))),member(p3(41,6,39),identifier(p3(41,6,17),semaphoreOL),total_function(p3(41,20,39),identifier(p3(41,20,29),'SEMAPHORE'),identifier(p3(41,34,39),'COLOR'))),member(p3(42,6,30),identifier(p3(42,6,10),cars),total_function(p3(42,13,30),identifier(p3(42,13,22),'DIRECTION'),nat_set(p3(42,27,30)))),member(p3(43,6,33),identifier(p3(43,6,10),time),total_function(p3(43,12,33),identifier(p3(43,12,17),'STATE'),interval(p3(43,22,33),integer(p3(43,22,23),0),identifier(p3(43,25,33),max_time)))),member(p3(44,6,27),identifier(p3(44,6,14),sequence),perm(p3(44,16,27),identifier(p3(44,21,26),'STATE'))),member(p3(45,6,24),identifier(p3(45,6,18),has_priority),bool_set(p3(45,20,24))),member(p3(46,6,26),identifier(p3(46,6,19),current_state),identifier(p3(46,21,26),'STATE')),equal(p3(51,6,36),image(p3(51,6,26),identifier(p3(51,6,17),semaphoreNS),set_extension(p3(51,18,25),[identifier(p3(51,19,24),'AHEAD')])),set_extension(p3(51,29,36),[identifier(p3(51,30,35),'GREEN')]))]),conjunct(p5(1,51,42,52,36),[equal(p3(51,42,95),union(p3(51,42,87),image(p3(51,42,62),identifier(p3(51,42,53),semaphoreLO),set_extension(p3(51,54,61),[identifier(p3(51,55,60),'AHEAD')])),image(p3(51,67,87),identifier(p3(51,67,78),semaphoreOL),set_extension(p3(51,79,86),[identifier(p3(51,80,85),'AHEAD')]))),set_extension(p3(51,90,95),[identifier(p3(51,91,94),'RED')])),equal(p3(52,6,36),image(p3(52,6,26),identifier(p3(52,6,17),semaphoreSN),set_extension(p3(52,18,25),[identifier(p3(52,19,24),'AHEAD')])),set_extension(p3(52,29,36),[identifier(p3(52,30,35),'GREEN')]))])),conjunct(p5(1,52,42,53,36),[equal(p3(52,42,95),union(p3(52,42,87),image(p3(52,42,62),identifier(p3(52,42,53),semaphoreLO),set_extension(p3(52,54,61),[identifier(p3(52,55,60),'AHEAD')])),image(p3(52,67,87),identifier(p3(52,67,78),semaphoreOL),set_extension(p3(52,79,86),[identifier(p3(52,80,85),'AHEAD')]))),set_extension(p3(52,90,95),[identifier(p3(52,91,94),'RED')])),equal(p3(53,6,36),image(p3(53,6,26),identifier(p3(53,6,17),semaphoreLO),set_extension(p3(53,18,25),[identifier(p3(53,19,24),'AHEAD')])),set_extension(p3(53,29,36),[identifier(p3(53,30,35),'GREEN')]))])),conjunct(p5(1,53,42,54,36),[equal(p3(53,42,95),union(p3(53,42,87),image(p3(53,42,62),identifier(p3(53,42,53),semaphoreNS),set_extension(p3(53,54,61),[identifier(p3(53,55,60),'AHEAD')])),image(p3(53,67,87),identifier(p3(53,67,78),semaphoreSN),set_extension(p3(53,79,86),[identifier(p3(53,80,85),'AHEAD')]))),set_extension(p3(53,90,95),[identifier(p3(53,91,94),'RED')])),equal(p3(54,6,36),image(p3(54,6,26),identifier(p3(54,6,17),semaphoreOL),set_extension(p3(54,18,25),[identifier(p3(54,19,24),'AHEAD')])),set_extension(p3(54,29,36),[identifier(p3(54,30,35),'GREEN')]))])),conjunct(p5(1,54,42,63,80),[equal(p3(54,42,95),union(p3(54,42,87),image(p3(54,42,62),identifier(p3(54,42,53),semaphoreNS),set_extension(p3(54,54,61),[identifier(p3(54,55,60),'AHEAD')])),image(p3(54,67,87),identifier(p3(54,67,78),semaphoreSN),set_extension(p3(54,79,86),[identifier(p3(54,80,85),'AHEAD')]))),set_extension(p3(54,90,95),[identifier(p3(54,91,94),'RED')])),conjunct(p5(1,57,9,59,79),[equivalence(p5(1,57,9,58,72),conjunct(p3(57,9,67),[equal(p3(57,9,37),image(p3(57,9,29),identifier(p3(57,9,20),semaphoreNS),set_extension(p3(57,21,28),[identifier(p3(57,22,27),'AHEAD')])),set_extension(p3(57,32,37),[identifier(p3(57,33,36),'RED')])),equal(p3(57,40,67),image(p3(57,40,59),identifier(p3(57,40,51),semaphoreNS),set_extension(p3(57,52,58),[identifier(p3(57,53,57),'LEFT')])),set_extension(p3(57,62,67),[identifier(p3(57,63,66),'RED')]))]),conjunct(p3(58,14,72),[equal(p3(58,14,42),image(p3(58,14,34),identifier(p3(58,14,25),semaphoreSN),set_extension(p3(58,26,33),[identifier(p3(58,27,32),'AHEAD')])),set_extension(p3(58,37,42),[identifier(p3(58,38,41),'RED')])),equal(p3(58,45,72),image(p3(58,45,64),identifier(p3(58,45,56),semaphoreSN),set_extension(p3(58,57,63),[identifier(p3(58,58,62),'LEFT')])),set_extension(p3(58,67,72),[identifier(p3(58,68,71),'RED')]))])),equal(p3(59,18,47),image(p3(59,18,38),identifier(p3(59,18,29),semaphoreLO),set_extension(p3(59,30,37),[identifier(p3(59,31,36),'AHEAD')])),set_extension(p3(59,42,47),[identifier(p3(59,43,46),'RED')])),equal(p3(59,50,79),image(p3(59,50,70),identifier(p3(59,50,61),semaphoreOL),set_extension(p3(59,62,69),[identifier(p3(59,63,68),'AHEAD')])),set_extension(p3(59,74,79),[identifier(p3(59,75,78),'RED')]))]),conjunct(p5(1,61,9,63,80),[equivalence(p5(1,61,9,62,72),conjunct(p3(61,9,67),[equal(p3(61,9,37),image(p3(61,9,29),identifier(p3(61,9,20),semaphoreLO),set_extension(p3(61,21,28),[identifier(p3(61,22,27),'AHEAD')])),set_extension(p3(61,32,37),[identifier(p3(61,33,36),'RED')])),equal(p3(61,40,67),image(p3(61,40,59),identifier(p3(61,40,51),semaphoreLO),set_extension(p3(61,52,58),[identifier(p3(61,53,57),'LEFT')])),set_extension(p3(61,62,67),[identifier(p3(61,63,66),'RED')]))]),conjunct(p3(62,14,72),[equal(p3(62,14,42),image(p3(62,14,34),identifier(p3(62,14,25),semaphoreOL),set_extension(p3(62,26,33),[identifier(p3(62,27,32),'AHEAD')])),set_extension(p3(62,37,42),[identifier(p3(62,38,41),'RED')])),equal(p3(62,45,72),image(p3(62,45,64),identifier(p3(62,45,56),semaphoreOL),set_extension(p3(62,57,63),[identifier(p3(62,58,62),'LEFT')])),set_extension(p3(62,67,72),[identifier(p3(62,68,71),'RED')]))])),equal(p3(63,19,48),image(p3(63,19,39),identifier(p3(63,19,30),semaphoreNS),set_extension(p3(63,31,38),[identifier(p3(63,32,37),'AHEAD')])),set_extension(p3(63,43,48),[identifier(p3(63,44,47),'RED')])),equal(p3(63,51,80),image(p3(63,51,71),identifier(p3(63,51,62),semaphoreSN),set_extension(p3(63,63,70),[identifier(p3(63,64,69),'AHEAD')])),set_extension(p3(63,75,80),[identifier(p3(63,76,79),'RED')]))])]))),initialisation(p5(1,66,1,76,25),parallel(p5(1,68,6,76,25),[assign(p3(68,6,65),[identifier(p3(68,6,17),semaphoreNS)],[set_extension(p3(68,21,65),[couple(p3(68,22,34),[identifier(p3(68,22,26),'LEFT'),identifier(p3(68,31,34),'RED')]),couple(p3(68,36,49),[identifier(p3(68,36,41),'RIGHT'),identifier(p3(68,46,49),'RED')]),couple(p3(68,51,64),[identifier(p3(68,51,56),'AHEAD'),identifier(p3(68,61,64),'RED')])])]),assign(p3(69,6,65),[identifier(p3(69,6,17),semaphoreSN)],[set_extension(p3(69,21,65),[couple(p3(69,22,34),[identifier(p3(69,22,26),'LEFT'),identifier(p3(69,31,34),'RED')]),couple(p3(69,36,49),[identifier(p3(69,36,41),'RIGHT'),identifier(p3(69,46,49),'RED')]),couple(p3(69,51,64),[identifier(p3(69,51,56),'AHEAD'),identifier(p3(69,61,64),'RED')])])]),assign(p3(70,6,65),[identifier(p3(70,6,17),semaphoreLO)],[set_extension(p3(70,21,65),[couple(p3(70,22,34),[identifier(p3(70,22,26),'LEFT'),identifier(p3(70,31,34),'RED')]),couple(p3(70,36,49),[identifier(p3(70,36,41),'RIGHT'),identifier(p3(70,46,49),'RED')]),couple(p3(70,51,64),[identifier(p3(70,51,56),'AHEAD'),identifier(p3(70,61,64),'RED')])])]),assign(p3(71,6,65),[identifier(p3(71,6,17),semaphoreOL)],[set_extension(p3(71,21,65),[couple(p3(71,22,34),[identifier(p3(71,22,26),'LEFT'),identifier(p3(71,31,34),'RED')]),couple(p3(71,36,49),[identifier(p3(71,36,41),'RIGHT'),identifier(p3(71,46,49),'RED')]),couple(p3(71,51,64),[identifier(p3(71,51,56),'AHEAD'),identifier(p3(71,61,64),'RED')])])]),assign(p3(72,6,29),[identifier(p3(72,6,10),cars)],[mult_or_cart(p3(72,14,29),identifier(p3(72,14,23),'DIRECTION'),set_extension(p3(72,26,29),[integer(p3(72,27,28),0)]))]),assign(p3(73,6,25),[identifier(p3(73,6,10),time)],[mult_or_cart(p3(73,14,25),identifier(p3(73,14,19),'STATE'),set_extension(p3(73,22,25),[integer(p3(73,23,24),5)]))]),assign(p3(74,6,36),[identifier(p3(74,6,14),sequence)],[sequence_extension(p3(74,18,36),[identifier(p3(74,19,21),'LO'),identifier(p3(74,23,26),'DNS'),identifier(p3(74,28,31),'DLO'),identifier(p3(74,33,35),'NS')])]),assign(p3(75,6,27),[identifier(p3(75,6,18),has_priority)],[boolean_false(p3(75,22,27))]),assign(p3(76,6,25),[identifier(p3(76,6,19),current_state)],[identifier(p3(76,23,25),'NS')])])),operations(p5(1,78,1,110,24),[operation(p5(1,84,5,87,12),identifier(p5(1,84,5,87,12),prioritize),[],[identifier(p3(84,17,19),ss)],precondition(p5(1,85,9,87,12),conjunct(p3(85,13,68),[member(p3(85,13,23),identifier(p3(85,13,15),ss),identifier(p3(85,18,23),'STATE')),not_equal(p3(85,26,45),identifier(p3(85,26,28),ss),identifier(p3(85,32,45),current_state)),equal(p3(85,48,68),identifier(p3(85,48,60),has_priority),boolean_false(p3(85,63,68)))]),parallel(p3(86,14,64),[assign(p3(86,14,34),[identifier(p3(86,14,26),has_priority)],[boolean_true(p3(86,30,34))]),assign(p3(86,38,64),[identifier(p3(86,38,46),sequence)],[insert_front(p3(86,50,64),identifier(p3(86,50,52),ss),identifier(p3(86,56,64),sequence))])]))),operation(p5(1,89,4,99,11),identifier(p5(1,89,4,99,11),calculate_times),[],[],precondition(p5(1,91,8,99,11),not_equal(p3(91,12,77),max(p3(91,12,73),set_extension(p3(91,16,72),[add(p3(91,18,43),function(p3(91,18,29),identifier(p3(91,18,22),cars),[identifier(p3(91,23,28),'NORTH')]),function(p3(91,32,43),identifier(p3(91,32,36),cars),[identifier(p3(91,37,42),'SOUTH')])),add(p3(91,47,70),function(p3(91,47,57),identifier(p3(91,47,51),cars),[identifier(p3(91,52,56),'EAST')]),function(p3(91,60,70),identifier(p3(91,60,64),cars),[identifier(p3(91,65,69),'WEST')]))])),integer(p3(91,76,77),0)),parallel(p5(1,93,13,97,36),[assign(p5(1,93,13,96,167),[identifier(p3(93,13,17),time)],[overwrite(p5(1,93,21,96,167),identifier(p3(93,21,25),time),set_extension(p5(1,93,29,96,167),[couple(p3(93,30,156),[identifier(p3(93,30,32),'NS'),max(p3(93,37,156),set_extension(p3(93,41,155),[div(p3(93,44,143),mult_or_cart(p3(93,44,81),add(p3(93,44,69),function(p3(93,44,55),identifier(p3(93,44,48),cars),[identifier(p3(93,49,54),'NORTH')]),function(p3(93,58,69),identifier(p3(93,58,62),cars),[identifier(p3(93,63,68),'SOUTH')])),identifier(p3(93,73,81),max_time)),max(p3(93,86,143),set_extension(p3(93,90,142),[add(p3(93,91,116),function(p3(93,91,102),identifier(p3(93,91,95),cars),[identifier(p3(93,96,101),'NORTH')]),function(p3(93,105,116),identifier(p3(93,105,109),cars),[identifier(p3(93,110,115),'SOUTH')])),add(p3(93,118,141),function(p3(93,118,128),identifier(p3(93,118,122),cars),[identifier(p3(93,123,127),'EAST')]),function(p3(93,131,141),identifier(p3(93,131,135),cars),[identifier(p3(93,136,140),'WEST')]))]))),identifier(p3(93,146,154),min_time)]))]),couple(p3(94,41,165),[identifier(p3(94,41,43),'LO'),max(p3(94,48,165),set_extension(p3(94,52,164),[div(p3(94,55,152),mult_or_cart(p3(94,55,90),add(p3(94,55,78),function(p3(94,55,65),identifier(p3(94,55,59),cars),[identifier(p3(94,60,64),'EAST')]),function(p3(94,68,78),identifier(p3(94,68,72),cars),[identifier(p3(94,73,77),'WEST')])),identifier(p3(94,82,90),max_time)),max(p3(94,95,152),set_extension(p3(94,99,151),[add(p3(94,100,125),function(p3(94,100,111),identifier(p3(94,100,104),cars),[identifier(p3(94,105,110),'NORTH')]),function(p3(94,114,125),identifier(p3(94,114,118),cars),[identifier(p3(94,119,124),'SOUTH')])),add(p3(94,127,150),function(p3(94,127,137),identifier(p3(94,127,131),cars),[identifier(p3(94,132,136),'EAST')]),function(p3(94,140,150),identifier(p3(94,140,144),cars),[identifier(p3(94,145,149),'WEST')]))]))),identifier(p3(94,155,163),min_time)]))]),couple(p3(95,41,168),[identifier(p3(95,41,44),'DNS'),max(p3(95,49,168),set_extension(p3(95,53,167),[div(p3(95,56,155),mult_or_cart(p3(95,56,93),add(p3(95,56,81),function(p3(95,56,67),identifier(p3(95,56,60),cars),[identifier(p3(95,61,66),'NORTH')]),function(p3(95,70,81),identifier(p3(95,70,74),cars),[identifier(p3(95,75,80),'SOUTH')])),identifier(p3(95,85,93),max_time)),max(p3(95,98,155),set_extension(p3(95,102,154),[add(p3(95,103,128),function(p3(95,103,114),identifier(p3(95,103,107),cars),[identifier(p3(95,108,113),'NORTH')]),function(p3(95,117,128),identifier(p3(95,117,121),cars),[identifier(p3(95,122,127),'SOUTH')])),add(p3(95,130,153),function(p3(95,130,140),identifier(p3(95,130,134),cars),[identifier(p3(95,135,139),'EAST')]),function(p3(95,143,153),identifier(p3(95,143,147),cars),[identifier(p3(95,148,152),'WEST')]))]))),identifier(p3(95,158,166),min_time)]))]),couple(p3(96,41,166),[identifier(p3(96,41,44),'DLO'),max(p3(96,49,166),set_extension(p3(96,53,165),[div(p3(96,56,153),mult_or_cart(p3(96,56,91),add(p3(96,56,79),function(p3(96,56,66),identifier(p3(96,56,60),cars),[identifier(p3(96,61,65),'EAST')]),function(p3(96,69,79),identifier(p3(96,69,73),cars),[identifier(p3(96,74,78),'WEST')])),identifier(p3(96,83,91),max_time)),max(p3(96,96,153),set_extension(p3(96,100,152),[add(p3(96,101,126),function(p3(96,101,112),identifier(p3(96,101,105),cars),[identifier(p3(96,106,111),'NORTH')]),function(p3(96,115,126),identifier(p3(96,115,119),cars),[identifier(p3(96,120,125),'SOUTH')])),add(p3(96,128,151),function(p3(96,128,138),identifier(p3(96,128,132),cars),[identifier(p3(96,133,137),'EAST')]),function(p3(96,141,151),identifier(p3(96,141,145),cars),[identifier(p3(96,146,150),'WEST')]))]))),identifier(p3(96,156,164),min_time)]))])]))]),assign(p3(97,13,36),[identifier(p3(97,13,17),cars)],[mult_or_cart(p3(97,21,36),identifier(p3(97,21,30),'DIRECTION'),set_extension(p3(97,33,36),[integer(p3(97,34,35),0)]))])]))),operation(p5(1,101,4,104,12),identifier(p5(1,101,4,104,12),addCars),[],[identifier(p3(101,12,14),nn),identifier(p3(101,15,17),dd)],precondition(p5(1,102,9,104,12),conjunct(p3(102,13,42),[member(p3(102,13,25),identifier(p3(102,13,15),nn),natural_set(p3(102,18,25))),member(p3(102,28,42),identifier(p3(102,28,30),dd),identifier(p3(102,33,42),'DIRECTION'))]),assign(p3(103,14,39),[function(p3(103,14,21),identifier(p3(103,14,18),cars),[identifier(p3(103,19,21),dd)])],[add(p3(103,26,39),function(p3(103,26,34),identifier(p3(103,26,30),cars),[identifier(p3(103,31,33),dd)]),identifier(p3(103,37,39),nn))]))),operation(p5(1,106,5,107,86),identifier(p5(1,106,5,107,86),status_semaphoreNS),[identifier(p3(106,5,7),sl),identifier(p3(106,9,11),sr),identifier(p3(106,12,14),sa)],[],assign(p3(107,9,86),[identifier(p3(107,9,11),sl),identifier(p3(107,13,15),sr),identifier(p3(107,17,19),sa)],[image(p3(107,23,42),identifier(p3(107,23,34),semaphoreNS),set_extension(p3(107,35,41),[identifier(p3(107,36,40),'LEFT')])),image(p3(107,44,64),identifier(p3(107,44,55),semaphoreNS),set_extension(p3(107,56,63),[identifier(p3(107,57,62),'RIGHT')])),image(p3(107,66,86),identifier(p3(107,66,77),semaphoreNS),set_extension(p3(107,78,85),[identifier(p3(107,79,84),'AHEAD')]))])),operation(p5(1,109,5,110,24),identifier(p5(1,109,5,110,24),show_sequency),[identifier(p3(109,5,7),sq)],[],assign(p3(110,10,24),[identifier(p3(110,10,12),sq)],[identifier(p3(110,16,24),sequence)]))])])).
