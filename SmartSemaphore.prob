parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('SmartSemaphore',['C:\\Users\\rodri\\Documents\\BES\\M\351\todos Formais 2\\smart-semaphore\\SmartSemaphore.mch']).
machine(abstract_machine(p5(1,6,1,70,4),machine(p3(6,1,8)),machine_header(p3(7,5,19),'SmartSemaphore',[]),[sets(p5(1,9,1,12,45),[enumerated_set(p3(10,6,36),'SEMAPHORE',[identifier(p3(10,19,23),'LEFT'),identifier(p3(10,24,29),'RIGHT'),identifier(p3(10,30,35),'AHEAD')]),enumerated_set(p3(11,6,33),'COLORS',[identifier(p3(11,16,21),'GREEN'),identifier(p3(11,22,28),'YELLOW'),identifier(p3(11,29,32),'RED')]),enumerated_set(p3(12,6,45),'DIRECTIONS',[identifier(p3(12,20,25),'NORTH'),identifier(p3(12,27,32),'SOUTH'),identifier(p3(12,34,38),'EAST'),identifier(p3(12,40,44),'WEST')])]),variables(p5(1,14,1,19,9),[identifier(p3(15,5,16),semaphoreNS),identifier(p3(16,5,16),semaphoreOL),identifier(p3(17,5,16),semaphoreLO),identifier(p3(18,5,16),semaphoreSN),identifier(p3(19,5,9),cars)]),invariant(p5(1,21,1,47,80),conjunct(p5(1,24,6,47,80),[member(p3(24,6,40),identifier(p3(24,6,17),semaphoreNS),total_function(p3(24,20,40),identifier(p3(24,20,29),'SEMAPHORE'),identifier(p3(24,34,40),'COLORS'))),member(p3(25,6,40),identifier(p3(25,6,17),semaphoreSN),total_function(p3(25,20,40),identifier(p3(25,20,29),'SEMAPHORE'),identifier(p3(25,34,40),'COLORS'))),member(p3(26,6,40),identifier(p3(26,6,17),semaphoreLO),total_function(p3(26,20,40),identifier(p3(26,20,29),'SEMAPHORE'),identifier(p3(26,34,40),'COLORS'))),member(p3(27,6,40),identifier(p3(27,6,17),semaphoreOL),total_function(p3(27,20,40),identifier(p3(27,20,29),'SEMAPHORE'),identifier(p3(27,34,40),'COLORS'))),member(p3(28,6,31),identifier(p3(28,6,10),cars),total_function(p3(28,13,31),identifier(p3(28,13,23),'DIRECTIONS'),nat_set(p3(28,28,31)))),equivalence(p3(31,7,70),equal(p3(31,7,37),image(p3(31,7,27),identifier(p3(31,7,18),semaphoreNS),set_extension(p3(31,19,26),[identifier(p3(31,20,25),'AHEAD')])),set_extension(p3(31,30,37),[identifier(p3(31,31,36),'GREEN')])),equal(p3(31,42,70),image(p3(31,42,62),identifier(p3(31,42,53),semaphoreLO),set_extension(p3(31,54,61),[identifier(p3(31,55,60),'AHEAD')])),set_extension(p3(31,65,70),[identifier(p3(31,66,69),'RED')]))),equivalence(p3(32,7,70),equal(p3(32,7,37),image(p3(32,7,27),identifier(p3(32,7,18),semaphoreSN),set_extension(p3(32,19,26),[identifier(p3(32,20,25),'AHEAD')])),set_extension(p3(32,30,37),[identifier(p3(32,31,36),'GREEN')])),equal(p3(32,42,70),image(p3(32,42,62),identifier(p3(32,42,53),semaphoreOL),set_extension(p3(32,54,61),[identifier(p3(32,55,60),'AHEAD')])),set_extension(p3(32,65,70),[identifier(p3(32,66,69),'RED')]))),equivalence(p5(1,34,7,35,54),equal(p3(34,7,49),image(p3(34,7,26),identifier(p3(34,7,18),semaphoreNS),set_extension(p3(34,19,25),[identifier(p3(34,20,24),'LEFT')])),image(p3(34,29,49),identifier(p3(34,29,40),semaphoreNS),set_extension(p3(34,41,48),[identifier(p3(34,42,47),'RIGHT')]))),equal(p3(35,12,54),image(p3(35,12,31),identifier(p3(35,12,23),semaphoreSN),set_extension(p3(35,24,30),[identifier(p3(35,25,29),'LEFT')])),image(p3(35,34,54),identifier(p3(35,34,45),semaphoreSN),set_extension(p3(35,46,53),[identifier(p3(35,47,52),'RIGHT')])))),equivalence(p5(1,37,7,38,55),equal(p3(37,7,49),image(p3(37,7,26),identifier(p3(37,7,18),semaphoreLO),set_extension(p3(37,19,25),[identifier(p3(37,20,24),'LEFT')])),image(p3(37,29,49),identifier(p3(37,29,40),semaphoreLO),set_extension(p3(37,41,48),[identifier(p3(37,42,47),'RIGHT')]))),equal(p3(38,13,55),image(p3(38,13,32),identifier(p3(38,13,24),semaphoreOL),set_extension(p3(38,25,31),[identifier(p3(38,26,30),'LEFT')])),image(p3(38,35,55),identifier(p3(38,35,46),semaphoreOL),set_extension(p3(38,47,54),[identifier(p3(38,48,53),'RIGHT')])))),conjunct(p5(1,41,9,43,79),[equivalence(p5(1,41,9,42,72),conjunct(p3(41,9,67),[equal(p3(41,9,37),image(p3(41,9,29),identifier(p3(41,9,20),semaphoreNS),set_extension(p3(41,21,28),[identifier(p3(41,22,27),'AHEAD')])),set_extension(p3(41,32,37),[identifier(p3(41,33,36),'RED')])),equal(p3(41,40,67),image(p3(41,40,59),identifier(p3(41,40,51),semaphoreNS),set_extension(p3(41,52,58),[identifier(p3(41,53,57),'LEFT')])),set_extension(p3(41,62,67),[identifier(p3(41,63,66),'RED')]))]),conjunct(p3(42,14,72),[equal(p3(42,14,42),image(p3(42,14,34),identifier(p3(42,14,25),semaphoreSN),set_extension(p3(42,26,33),[identifier(p3(42,27,32),'AHEAD')])),set_extension(p3(42,37,42),[identifier(p3(42,38,41),'RED')])),equal(p3(42,45,72),image(p3(42,45,64),identifier(p3(42,45,56),semaphoreSN),set_extension(p3(42,57,63),[identifier(p3(42,58,62),'LEFT')])),set_extension(p3(42,67,72),[identifier(p3(42,68,71),'RED')]))])),equal(p3(43,18,47),image(p3(43,18,38),identifier(p3(43,18,29),semaphoreLO),set_extension(p3(43,30,37),[identifier(p3(43,31,36),'AHEAD')])),set_extension(p3(43,42,47),[identifier(p3(43,43,46),'RED')])),equal(p3(43,50,79),image(p3(43,50,70),identifier(p3(43,50,61),semaphoreOL),set_extension(p3(43,62,69),[identifier(p3(43,63,68),'AHEAD')])),set_extension(p3(43,74,79),[identifier(p3(43,75,78),'RED')]))]),conjunct(p5(1,45,9,47,80),[equivalence(p5(1,45,9,46,72),conjunct(p3(45,9,67),[equal(p3(45,9,37),image(p3(45,9,29),identifier(p3(45,9,20),semaphoreLO),set_extension(p3(45,21,28),[identifier(p3(45,22,27),'AHEAD')])),set_extension(p3(45,32,37),[identifier(p3(45,33,36),'RED')])),equal(p3(45,40,67),image(p3(45,40,59),identifier(p3(45,40,51),semaphoreLO),set_extension(p3(45,52,58),[identifier(p3(45,53,57),'LEFT')])),set_extension(p3(45,62,67),[identifier(p3(45,63,66),'RED')]))]),conjunct(p3(46,14,72),[equal(p3(46,14,42),image(p3(46,14,34),identifier(p3(46,14,25),semaphoreOL),set_extension(p3(46,26,33),[identifier(p3(46,27,32),'AHEAD')])),set_extension(p3(46,37,42),[identifier(p3(46,38,41),'RED')])),equal(p3(46,45,72),image(p3(46,45,64),identifier(p3(46,45,56),semaphoreOL),set_extension(p3(46,57,63),[identifier(p3(46,58,62),'LEFT')])),set_extension(p3(46,67,72),[identifier(p3(46,68,71),'RED')]))])),equal(p3(47,19,48),image(p3(47,19,39),identifier(p3(47,19,30),semaphoreNS),set_extension(p3(47,31,38),[identifier(p3(47,32,37),'AHEAD')])),set_extension(p3(47,43,48),[identifier(p3(47,44,47),'RED')])),equal(p3(47,51,80),image(p3(47,51,71),identifier(p3(47,51,62),semaphoreSN),set_extension(p3(47,63,70),[identifier(p3(47,64,69),'AHEAD')])),set_extension(p3(47,75,80),[identifier(p3(47,76,79),'RED')]))])])),initialisation(p5(1,50,1,56,30),parallel(p5(1,52,6,56,30),[assign(p3(52,6,65),[identifier(p3(52,6,17),semaphoreNS)],[set_extension(p3(52,21,65),[couple(p3(52,22,34),[identifier(p3(52,22,26),'LEFT'),identifier(p3(52,31,34),'RED')]),couple(p3(52,36,49),[identifier(p3(52,36,41),'RIGHT'),identifier(p3(52,46,49),'RED')]),couple(p3(52,51,64),[identifier(p3(52,51,56),'AHEAD'),identifier(p3(52,61,64),'RED')])])]),assign(p3(53,6,65),[identifier(p3(53,6,17),semaphoreSN)],[set_extension(p3(53,21,65),[couple(p3(53,22,34),[identifier(p3(53,22,26),'LEFT'),identifier(p3(53,31,34),'RED')]),couple(p3(53,36,49),[identifier(p3(53,36,41),'RIGHT'),identifier(p3(53,46,49),'RED')]),couple(p3(53,51,64),[identifier(p3(53,51,56),'AHEAD'),identifier(p3(53,61,64),'RED')])])]),assign(p3(54,6,65),[identifier(p3(54,6,17),semaphoreLO)],[set_extension(p3(54,21,65),[couple(p3(54,22,34),[identifier(p3(54,22,26),'LEFT'),identifier(p3(54,31,34),'RED')]),couple(p3(54,36,49),[identifier(p3(54,36,41),'RIGHT'),identifier(p3(54,46,49),'RED')]),couple(p3(54,51,64),[identifier(p3(54,51,56),'AHEAD'),identifier(p3(54,61,64),'RED')])])]),assign(p3(55,6,65),[identifier(p3(55,6,17),semaphoreOL)],[set_extension(p3(55,21,65),[couple(p3(55,22,34),[identifier(p3(55,22,26),'LEFT'),identifier(p3(55,31,34),'RED')]),couple(p3(55,36,49),[identifier(p3(55,36,41),'RIGHT'),identifier(p3(55,46,49),'RED')]),couple(p3(55,51,64),[identifier(p3(55,51,56),'AHEAD'),identifier(p3(55,61,64),'RED')])])]),assign(p3(56,6,30),[identifier(p3(56,6,10),cars)],[mult_or_cart(p3(56,14,30),identifier(p3(56,14,24),'DIRECTIONS'),set_extension(p3(56,27,30),[integer(p3(56,28,29),0)]))])])),operations(p5(1,58,1,68,86),[operation(p5(1,67,5,68,86),identifier(p5(1,67,5,68,86),status_semaphoreNS),[identifier(p3(67,5,7),sl),identifier(p3(67,9,11),sr),identifier(p3(67,12,14),sa)],[],assign(p3(68,9,86),[identifier(p3(68,9,11),sl),identifier(p3(68,13,15),sr),identifier(p3(68,17,19),sa)],[image(p3(68,23,42),identifier(p3(68,23,34),semaphoreNS),set_extension(p3(68,35,41),[identifier(p3(68,36,40),'LEFT')])),image(p3(68,44,64),identifier(p3(68,44,55),semaphoreNS),set_extension(p3(68,56,63),[identifier(p3(68,57,62),'RIGHT')])),image(p3(68,66,86),identifier(p3(68,66,77),semaphoreNS),set_extension(p3(68,78,85),[identifier(p3(68,79,84),'AHEAD')]))]))])])).
