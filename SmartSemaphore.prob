parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('SmartSemaphore',['C:\\Users\\rodri\\Documents\\BES\\M\351\todos Formais 2\\smart-semaphore\\SmartSemaphore.mch']).
machine(abstract_machine(p5(1,5,1,55,4),machine(p3(5,1,8)),machine_header(p3(6,5,19),'SmartSemaphore',[]),[sets(p5(1,8,1,11,41),[enumerated_set(p3(9,2,32),'SEMAPHORE',[identifier(p3(9,15,19),'LEFT'),identifier(p3(9,20,25),'RIGHT'),identifier(p3(9,26,31),'AHEAD')]),enumerated_set(p3(10,2,29),'COLORS',[identifier(p3(10,12,17),'GREEN'),identifier(p3(10,18,24),'YELLOW'),identifier(p3(10,25,28),'RED')]),enumerated_set(p3(11,2,41),'DIRECTIONS',[identifier(p3(11,16,21),'NORTH'),identifier(p3(11,23,28),'SOUTH'),identifier(p3(11,30,34),'EAST'),identifier(p3(11,36,40),'WEST')])]),variables(p5(1,14,1,15,61),[identifier(p3(15,5,16),semaphoreNS),identifier(p3(15,18,29),semaphoreOL),identifier(p3(15,31,42),semaphoreLO),identifier(p3(15,44,55),semaphoreSN),identifier(p3(15,57,61),cars)]),invariant(p5(1,17,1,31,110),conjunct(p5(1,20,6,31,110),[member(p3(20,6,40),identifier(p3(20,6,17),semaphoreNS),total_function(p3(20,20,40),identifier(p3(20,20,29),'SEMAPHORE'),identifier(p3(20,34,40),'COLORS'))),member(p3(21,2,36),identifier(p3(21,2,13),semaphoreSN),total_function(p3(21,16,36),identifier(p3(21,16,25),'SEMAPHORE'),identifier(p3(21,30,36),'COLORS'))),member(p3(22,2,36),identifier(p3(22,2,13),semaphoreLO),total_function(p3(22,16,36),identifier(p3(22,16,25),'SEMAPHORE'),identifier(p3(22,30,36),'COLORS'))),member(p3(23,2,36),identifier(p3(23,2,13),semaphoreOL),total_function(p3(23,16,36),identifier(p3(23,16,25),'SEMAPHORE'),identifier(p3(23,30,36),'COLORS'))),member(p3(24,2,27),identifier(p3(24,2,6),cars),total_function(p3(24,9,27),identifier(p3(24,9,19),'DIRECTIONS'),nat_set(p3(24,24,27)))),equivalence(p3(27,18,81),equal(p3(27,18,48),image(p3(27,18,38),identifier(p3(27,18,29),semaphoreNS),set_extension(p3(27,30,37),[identifier(p3(27,31,36),'AHEAD')])),set_extension(p3(27,41,48),[identifier(p3(27,42,47),'GREEN')])),equal(p3(27,53,81),image(p3(27,53,73),identifier(p3(27,53,64),semaphoreLO),set_extension(p3(27,65,72),[identifier(p3(27,66,71),'AHEAD')])),set_extension(p3(27,76,81),[identifier(p3(27,77,80),'RED')]))),equivalence(p3(28,18,81),equal(p3(28,18,48),image(p3(28,18,38),identifier(p3(28,18,29),semaphoreSN),set_extension(p3(28,30,37),[identifier(p3(28,31,36),'AHEAD')])),set_extension(p3(28,41,48),[identifier(p3(28,42,47),'GREEN')])),equal(p3(28,53,81),image(p3(28,53,73),identifier(p3(28,53,64),semaphoreOL),set_extension(p3(28,65,72),[identifier(p3(28,66,71),'AHEAD')])),set_extension(p3(28,76,81),[identifier(p3(28,77,80),'RED')]))),equivalence(p3(30,19,110),equal(p3(30,19,61),image(p3(30,19,38),identifier(p3(30,19,30),semaphoreNS),set_extension(p3(30,31,37),[identifier(p3(30,32,36),'LEFT')])),image(p3(30,41,61),identifier(p3(30,41,52),semaphoreNS),set_extension(p3(30,53,60),[identifier(p3(30,54,59),'RIGHT')]))),equal(p3(30,68,110),image(p3(30,68,87),identifier(p3(30,68,79),semaphoreSN),set_extension(p3(30,80,86),[identifier(p3(30,81,85),'LEFT')])),image(p3(30,90,110),identifier(p3(30,90,101),semaphoreSN),set_extension(p3(30,102,109),[identifier(p3(30,103,108),'RIGHT')])))),equivalence(p3(31,19,110),equal(p3(31,19,61),image(p3(31,19,38),identifier(p3(31,19,30),semaphoreLO),set_extension(p3(31,31,37),[identifier(p3(31,32,36),'LEFT')])),image(p3(31,41,61),identifier(p3(31,41,52),semaphoreLO),set_extension(p3(31,53,60),[identifier(p3(31,54,59),'RIGHT')]))),equal(p3(31,68,110),image(p3(31,68,87),identifier(p3(31,68,79),semaphoreOL),set_extension(p3(31,80,86),[identifier(p3(31,81,85),'LEFT')])),image(p3(31,90,110),identifier(p3(31,90,101),semaphoreOL),set_extension(p3(31,102,109),[identifier(p3(31,103,108),'RIGHT')]))))])),initialisation(p5(1,36,1,41,26),parallel(p5(1,37,6,41,26),[assign(p3(37,6,58),[identifier(p3(37,6,17),semaphoreNS)],[set_extension(p3(37,21,58),[couple(p3(37,22,32),[identifier(p3(37,22,26),'LEFT'),identifier(p3(37,29,32),'RED')]),couple(p3(37,34,45),[identifier(p3(37,34,39),'RIGHT'),identifier(p3(37,42,45),'RED')]),couple(p3(37,46,57),[identifier(p3(37,46,51),'AHEAD'),identifier(p3(37,54,57),'RED')])])]),assign(p3(38,2,54),[identifier(p3(38,2,13),semaphoreSN)],[set_extension(p3(38,17,54),[couple(p3(38,18,28),[identifier(p3(38,18,22),'LEFT'),identifier(p3(38,25,28),'RED')]),couple(p3(38,30,41),[identifier(p3(38,30,35),'RIGHT'),identifier(p3(38,38,41),'RED')]),couple(p3(38,42,53),[identifier(p3(38,42,47),'AHEAD'),identifier(p3(38,50,53),'RED')])])]),assign(p3(39,2,54),[identifier(p3(39,2,13),semaphoreLO)],[set_extension(p3(39,17,54),[couple(p3(39,18,28),[identifier(p3(39,18,22),'LEFT'),identifier(p3(39,25,28),'RED')]),couple(p3(39,30,41),[identifier(p3(39,30,35),'RIGHT'),identifier(p3(39,38,41),'RED')]),couple(p3(39,42,53),[identifier(p3(39,42,47),'AHEAD'),identifier(p3(39,50,53),'RED')])])]),assign(p3(40,2,54),[identifier(p3(40,2,13),semaphoreOL)],[set_extension(p3(40,17,54),[couple(p3(40,18,28),[identifier(p3(40,18,22),'LEFT'),identifier(p3(40,25,28),'RED')]),couple(p3(40,30,41),[identifier(p3(40,30,35),'RIGHT'),identifier(p3(40,38,41),'RED')]),couple(p3(40,42,53),[identifier(p3(40,42,47),'AHEAD'),identifier(p3(40,50,53),'RED')])])]),assign(p3(41,2,26),[identifier(p3(41,2,6),cars)],[mult_or_cart(p3(41,10,26),identifier(p3(41,10,20),'DIRECTIONS'),set_extension(p3(41,23,26),[integer(p3(41,24,25),0)]))])])),operations(p5(1,42,1,52,79),[operation(p5(1,51,1,52,79),identifier(p5(1,51,1,52,79),status_semaphoreNS),[identifier(p3(51,1,3),sl),identifier(p3(51,5,7),sr),identifier(p3(51,8,10),sa)],[],assign(p3(52,2,79),[identifier(p3(52,2,4),sl),identifier(p3(52,6,8),sr),identifier(p3(52,10,12),sa)],[image(p3(52,16,35),identifier(p3(52,16,27),semaphoreNS),set_extension(p3(52,28,34),[identifier(p3(52,29,33),'LEFT')])),image(p3(52,37,57),identifier(p3(52,37,48),semaphoreNS),set_extension(p3(52,49,56),[identifier(p3(52,50,55),'RIGHT')])),image(p3(52,59,79),identifier(p3(52,59,70),semaphoreNS),set_extension(p3(52,71,78),[identifier(p3(52,72,77),'AHEAD')]))]))])])).
