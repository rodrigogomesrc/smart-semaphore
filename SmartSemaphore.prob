parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('SmartSemaphore',['C:\\Users\\rodri\\Documents\\BES\\M\351\todos Formais 2\\smart-semaphore\\SmartSemaphore.mch']).
machine(abstract_machine(p5(1,6,1,94,4),machine(p3(6,1,8)),machine_header(p3(7,5,19),'SmartSemaphore',[]),[sets(p5(1,9,1,13,32),[enumerated_set(p3(10,6,36),'SEMAPHORE',[identifier(p3(10,19,23),'LEFT'),identifier(p3(10,24,29),'RIGHT'),identifier(p3(10,30,35),'AHEAD')]),enumerated_set(p3(11,6,32),'COLOR',[identifier(p3(11,15,20),'GREEN'),identifier(p3(11,21,27),'YELLOW'),identifier(p3(11,28,31),'RED')]),enumerated_set(p3(12,6,44),'DIRECTION',[identifier(p3(12,19,24),'NORTH'),identifier(p3(12,26,31),'SOUTH'),identifier(p3(12,33,37),'EAST'),identifier(p3(12,39,43),'WEST')]),enumerated_set(p3(13,6,32),'STATE',[identifier(p3(13,15,17),'NS'),identifier(p3(13,19,21),'LO'),identifier(p3(13,23,26),'DNS'),identifier(p3(13,28,31),'DLO')])]),constants(p5(1,15,1,17,13),[identifier(p3(17,5,13),max_time)]),properties(p5(1,19,1,21,18),member(p3(21,5,18),identifier(p3(21,5,13),max_time),nat1_set(p3(21,14,18)))),variables(p5(1,23,1,32,18),[identifier(p3(24,5,16),semaphoreNS),identifier(p3(25,5,16),semaphoreOL),identifier(p3(26,5,16),semaphoreLO),identifier(p3(27,5,16),semaphoreSN),identifier(p3(28,5,9),cars),identifier(p3(29,5,9),time),identifier(p3(30,5,13),sequence),identifier(p3(31,5,17),has_priority),identifier(p3(32,5,18),current_state)]),invariant(p5(1,34,1,62,80),implication(p5(1,37,6,62,80),implication(p5(1,37,6,53,36),implication(p5(1,37,6,52,36),implication(p5(1,37,6,51,36),conjunct(p5(1,37,6,50,36),[member(p3(37,6,39),identifier(p3(37,6,17),semaphoreNS),total_function(p3(37,20,39),identifier(p3(37,20,29),'SEMAPHORE'),identifier(p3(37,34,39),'COLOR'))),member(p3(38,6,39),identifier(p3(38,6,17),semaphoreSN),total_function(p3(38,20,39),identifier(p3(38,20,29),'SEMAPHORE'),identifier(p3(38,34,39),'COLOR'))),member(p3(39,6,39),identifier(p3(39,6,17),semaphoreLO),total_function(p3(39,20,39),identifier(p3(39,20,29),'SEMAPHORE'),identifier(p3(39,34,39),'COLOR'))),member(p3(40,6,39),identifier(p3(40,6,17),semaphoreOL),total_function(p3(40,20,39),identifier(p3(40,20,29),'SEMAPHORE'),identifier(p3(40,34,39),'COLOR'))),member(p3(41,6,30),identifier(p3(41,6,10),cars),total_function(p3(41,13,30),identifier(p3(41,13,22),'DIRECTION'),nat_set(p3(41,27,30)))),member(p3(42,6,37),identifier(p3(42,6,10),time),total_function(p3(42,12,37),identifier(p3(42,12,21),'SEMAPHORE'),interval(p3(42,26,37),integer(p3(42,26,27),0),identifier(p3(42,29,37),max_time)))),member(p3(43,6,27),identifier(p3(43,6,14),sequence),perm(p3(43,16,27),identifier(p3(43,21,26),'STATE'))),member(p3(44,6,24),identifier(p3(44,6,18),has_priority),bool_set(p3(44,20,24))),member(p3(45,6,26),identifier(p3(45,6,19),current_state),identifier(p3(45,21,26),'STATE')),equal(p3(50,6,36),image(p3(50,6,26),identifier(p3(50,6,17),semaphoreNS),set_extension(p3(50,18,25),[identifier(p3(50,19,24),'AHEAD')])),set_extension(p3(50,29,36),[identifier(p3(50,30,35),'GREEN')]))]),conjunct(p5(1,50,42,51,36),[equal(p3(50,42,95),union(p3(50,42,87),image(p3(50,42,62),identifier(p3(50,42,53),semaphoreLO),set_extension(p3(50,54,61),[identifier(p3(50,55,60),'AHEAD')])),image(p3(50,67,87),identifier(p3(50,67,78),semaphoreOL),set_extension(p3(50,79,86),[identifier(p3(50,80,85),'AHEAD')]))),set_extension(p3(50,90,95),[identifier(p3(50,91,94),'RED')])),equal(p3(51,6,36),image(p3(51,6,26),identifier(p3(51,6,17),semaphoreSN),set_extension(p3(51,18,25),[identifier(p3(51,19,24),'AHEAD')])),set_extension(p3(51,29,36),[identifier(p3(51,30,35),'GREEN')]))])),conjunct(p5(1,51,42,52,36),[equal(p3(51,42,95),union(p3(51,42,87),image(p3(51,42,62),identifier(p3(51,42,53),semaphoreLO),set_extension(p3(51,54,61),[identifier(p3(51,55,60),'AHEAD')])),image(p3(51,67,87),identifier(p3(51,67,78),semaphoreOL),set_extension(p3(51,79,86),[identifier(p3(51,80,85),'AHEAD')]))),set_extension(p3(51,90,95),[identifier(p3(51,91,94),'RED')])),equal(p3(52,6,36),image(p3(52,6,26),identifier(p3(52,6,17),semaphoreLO),set_extension(p3(52,18,25),[identifier(p3(52,19,24),'AHEAD')])),set_extension(p3(52,29,36),[identifier(p3(52,30,35),'GREEN')]))])),conjunct(p5(1,52,42,53,36),[equal(p3(52,42,95),union(p3(52,42,87),image(p3(52,42,62),identifier(p3(52,42,53),semaphoreNS),set_extension(p3(52,54,61),[identifier(p3(52,55,60),'AHEAD')])),image(p3(52,67,87),identifier(p3(52,67,78),semaphoreSN),set_extension(p3(52,79,86),[identifier(p3(52,80,85),'AHEAD')]))),set_extension(p3(52,90,95),[identifier(p3(52,91,94),'RED')])),equal(p3(53,6,36),image(p3(53,6,26),identifier(p3(53,6,17),semaphoreOL),set_extension(p3(53,18,25),[identifier(p3(53,19,24),'AHEAD')])),set_extension(p3(53,29,36),[identifier(p3(53,30,35),'GREEN')]))])),conjunct(p5(1,53,42,62,80),[equal(p3(53,42,95),union(p3(53,42,87),image(p3(53,42,62),identifier(p3(53,42,53),semaphoreNS),set_extension(p3(53,54,61),[identifier(p3(53,55,60),'AHEAD')])),image(p3(53,67,87),identifier(p3(53,67,78),semaphoreSN),set_extension(p3(53,79,86),[identifier(p3(53,80,85),'AHEAD')]))),set_extension(p3(53,90,95),[identifier(p3(53,91,94),'RED')])),conjunct(p5(1,56,9,58,79),[equivalence(p5(1,56,9,57,72),conjunct(p3(56,9,67),[equal(p3(56,9,37),image(p3(56,9,29),identifier(p3(56,9,20),semaphoreNS),set_extension(p3(56,21,28),[identifier(p3(56,22,27),'AHEAD')])),set_extension(p3(56,32,37),[identifier(p3(56,33,36),'RED')])),equal(p3(56,40,67),image(p3(56,40,59),identifier(p3(56,40,51),semaphoreNS),set_extension(p3(56,52,58),[identifier(p3(56,53,57),'LEFT')])),set_extension(p3(56,62,67),[identifier(p3(56,63,66),'RED')]))]),conjunct(p3(57,14,72),[equal(p3(57,14,42),image(p3(57,14,34),identifier(p3(57,14,25),semaphoreSN),set_extension(p3(57,26,33),[identifier(p3(57,27,32),'AHEAD')])),set_extension(p3(57,37,42),[identifier(p3(57,38,41),'RED')])),equal(p3(57,45,72),image(p3(57,45,64),identifier(p3(57,45,56),semaphoreSN),set_extension(p3(57,57,63),[identifier(p3(57,58,62),'LEFT')])),set_extension(p3(57,67,72),[identifier(p3(57,68,71),'RED')]))])),equal(p3(58,18,47),image(p3(58,18,38),identifier(p3(58,18,29),semaphoreLO),set_extension(p3(58,30,37),[identifier(p3(58,31,36),'AHEAD')])),set_extension(p3(58,42,47),[identifier(p3(58,43,46),'RED')])),equal(p3(58,50,79),image(p3(58,50,70),identifier(p3(58,50,61),semaphoreOL),set_extension(p3(58,62,69),[identifier(p3(58,63,68),'AHEAD')])),set_extension(p3(58,74,79),[identifier(p3(58,75,78),'RED')]))]),conjunct(p5(1,60,9,62,80),[equivalence(p5(1,60,9,61,72),conjunct(p3(60,9,67),[equal(p3(60,9,37),image(p3(60,9,29),identifier(p3(60,9,20),semaphoreLO),set_extension(p3(60,21,28),[identifier(p3(60,22,27),'AHEAD')])),set_extension(p3(60,32,37),[identifier(p3(60,33,36),'RED')])),equal(p3(60,40,67),image(p3(60,40,59),identifier(p3(60,40,51),semaphoreLO),set_extension(p3(60,52,58),[identifier(p3(60,53,57),'LEFT')])),set_extension(p3(60,62,67),[identifier(p3(60,63,66),'RED')]))]),conjunct(p3(61,14,72),[equal(p3(61,14,42),image(p3(61,14,34),identifier(p3(61,14,25),semaphoreOL),set_extension(p3(61,26,33),[identifier(p3(61,27,32),'AHEAD')])),set_extension(p3(61,37,42),[identifier(p3(61,38,41),'RED')])),equal(p3(61,45,72),image(p3(61,45,64),identifier(p3(61,45,56),semaphoreOL),set_extension(p3(61,57,63),[identifier(p3(61,58,62),'LEFT')])),set_extension(p3(61,67,72),[identifier(p3(61,68,71),'RED')]))])),equal(p3(62,19,48),image(p3(62,19,39),identifier(p3(62,19,30),semaphoreNS),set_extension(p3(62,31,38),[identifier(p3(62,32,37),'AHEAD')])),set_extension(p3(62,43,48),[identifier(p3(62,44,47),'RED')])),equal(p3(62,51,80),image(p3(62,51,71),identifier(p3(62,51,62),semaphoreSN),set_extension(p3(62,63,70),[identifier(p3(62,64,69),'AHEAD')])),set_extension(p3(62,75,80),[identifier(p3(62,76,79),'RED')]))])]))),initialisation(p5(1,65,1,75,25),parallel(p5(1,67,6,75,25),[assign(p3(67,6,65),[identifier(p3(67,6,17),semaphoreNS)],[set_extension(p3(67,21,65),[couple(p3(67,22,34),[identifier(p3(67,22,26),'LEFT'),identifier(p3(67,31,34),'RED')]),couple(p3(67,36,49),[identifier(p3(67,36,41),'RIGHT'),identifier(p3(67,46,49),'RED')]),couple(p3(67,51,64),[identifier(p3(67,51,56),'AHEAD'),identifier(p3(67,61,64),'RED')])])]),assign(p3(68,6,65),[identifier(p3(68,6,17),semaphoreSN)],[set_extension(p3(68,21,65),[couple(p3(68,22,34),[identifier(p3(68,22,26),'LEFT'),identifier(p3(68,31,34),'RED')]),couple(p3(68,36,49),[identifier(p3(68,36,41),'RIGHT'),identifier(p3(68,46,49),'RED')]),couple(p3(68,51,64),[identifier(p3(68,51,56),'AHEAD'),identifier(p3(68,61,64),'RED')])])]),assign(p3(69,6,65),[identifier(p3(69,6,17),semaphoreLO)],[set_extension(p3(69,21,65),[couple(p3(69,22,34),[identifier(p3(69,22,26),'LEFT'),identifier(p3(69,31,34),'RED')]),couple(p3(69,36,49),[identifier(p3(69,36,41),'RIGHT'),identifier(p3(69,46,49),'RED')]),couple(p3(69,51,64),[identifier(p3(69,51,56),'AHEAD'),identifier(p3(69,61,64),'RED')])])]),assign(p3(70,6,65),[identifier(p3(70,6,17),semaphoreOL)],[set_extension(p3(70,21,65),[couple(p3(70,22,34),[identifier(p3(70,22,26),'LEFT'),identifier(p3(70,31,34),'RED')]),couple(p3(70,36,49),[identifier(p3(70,36,41),'RIGHT'),identifier(p3(70,46,49),'RED')]),couple(p3(70,51,64),[identifier(p3(70,51,56),'AHEAD'),identifier(p3(70,61,64),'RED')])])]),assign(p3(71,6,29),[identifier(p3(71,6,10),cars)],[mult_or_cart(p3(71,14,29),identifier(p3(71,14,23),'DIRECTION'),set_extension(p3(71,26,29),[integer(p3(71,27,28),0)]))]),assign(p3(72,6,29),[identifier(p3(72,6,10),time)],[mult_or_cart(p3(72,14,29),identifier(p3(72,14,23),'SEMAPHORE'),set_extension(p3(72,26,29),[integer(p3(72,27,28),5)]))]),assign(p3(73,6,36),[identifier(p3(73,6,14),sequence)],[sequence_extension(p3(73,18,36),[identifier(p3(73,19,21),'LO'),identifier(p3(73,23,26),'DNS'),identifier(p3(73,28,31),'DLO'),identifier(p3(73,33,35),'NS')])]),assign(p3(74,6,27),[identifier(p3(74,6,18),has_priority)],[boolean_false(p3(74,22,27))]),assign(p3(75,6,25),[identifier(p3(75,6,19),current_state)],[identifier(p3(75,23,25),'NS')])])),operations(p5(1,77,1,92,24),[operation(p5(1,83,5,86,12),identifier(p5(1,83,5,86,12),prioritize),[],[identifier(p3(83,17,19),ss)],precondition(p5(1,84,9,86,12),conjunct(p3(84,13,68),[member(p3(84,13,23),identifier(p3(84,13,15),ss),identifier(p3(84,18,23),'STATE')),not_equal(p3(84,26,45),identifier(p3(84,26,28),ss),identifier(p3(84,32,45),current_state)),equal(p3(84,48,68),identifier(p3(84,48,60),has_priority),boolean_false(p3(84,63,68)))]),parallel(p3(85,14,64),[assign(p3(85,14,34),[identifier(p3(85,14,26),has_priority)],[boolean_true(p3(85,30,34))]),assign(p3(85,38,64),[identifier(p3(85,38,46),sequence)],[insert_front(p3(85,50,64),identifier(p3(85,50,52),ss),identifier(p3(85,56,64),sequence))])]))),operation(p5(1,88,5,89,86),identifier(p5(1,88,5,89,86),status_semaphoreNS),[identifier(p3(88,5,7),sl),identifier(p3(88,9,11),sr),identifier(p3(88,12,14),sa)],[],assign(p3(89,9,86),[identifier(p3(89,9,11),sl),identifier(p3(89,13,15),sr),identifier(p3(89,17,19),sa)],[image(p3(89,23,42),identifier(p3(89,23,34),semaphoreNS),set_extension(p3(89,35,41),[identifier(p3(89,36,40),'LEFT')])),image(p3(89,44,64),identifier(p3(89,44,55),semaphoreNS),set_extension(p3(89,56,63),[identifier(p3(89,57,62),'RIGHT')])),image(p3(89,66,86),identifier(p3(89,66,77),semaphoreNS),set_extension(p3(89,78,85),[identifier(p3(89,79,84),'AHEAD')]))])),operation(p5(1,91,5,92,24),identifier(p5(1,91,5,92,24),show_sequency),[identifier(p3(91,5,7),sq)],[],assign(p3(92,10,24),[identifier(p3(92,10,12),sq)],[identifier(p3(92,16,24),sequence)]))])])).
